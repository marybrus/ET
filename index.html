<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn Python</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        h2 {
            color: #333;
        }
        .quiz-section, .coding-section {
            margin: 20px 0;
        }
        .quiz-section {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
        }
        .coding-section textarea {
            width: 100%;
            height: 200px;
            margin-bottom: 10px;
        }
        .coding-output {
            background-color: #e8e8e8;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            white-space: pre-wrap;
        }
        .submit-btn {
            display: block;
            margin-top: 10px;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <h1>Welcome to Python Learning</h1>

    <!-- Video Section -->
    <div class="video-section">
        <h2>Watch the video to get started</h2>
        <!-- Embed YouTube video -->
        <iframe width="640" height="360" src="https://www.youtube.com/embed/uMeFaDAUE9w" 
                frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                allowfullscreen>
        </iframe>
    </div>

    <!-- Quiz Section -->
    <div class="quiz-section">
        <h2>Quiz: Python Basics</h2>

        <form id="quiz">
            <p><strong>1. How do you print something in Python?</strong></p>
            <input type="radio" name="q1" value="a"> print('text')<br>
            <input type="radio" name="q1" value="b"> echo('text')<br>
            <input type="radio" name="q1" value="c"> write('text')<br>

            <p><strong>2. How do you write a comment in Python?</strong></p>
            <input type="radio" name="q2" value="a"> // This is a comment<br>
            <input type="radio" name="q2" value="b"> /* This is a comment */<br>
            <input type="radio" name="q2" value="c"> # This is a comment<br>

            <button type="button" class="submit-btn" onclick="checkQuiz()">Submit Quiz</button>
        </form>

        <div id="quiz-result"></div>
    </div>

    <!-- Coding Section -->
    <div class="coding-section">
        <h2>Practice Python Coding</h2>
        <p>Write Python code below and click "Run Code" to execute it.</p>
        <textarea id="code-input">print("Hello, Python!")</textarea>
        <button class="submit-btn" onclick="runPythonCode()">Run Code</button>
        <div id="output" class="coding-output"></div>
    </div>

    <!-- Skulpt JavaScript Library for Python Execution -->
    <script src="https://cdn.jsdelivr.net/npm/skulpt@1.2.0/dist/skulpt.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/skulpt@1.2.0/dist/skulpt-stdlib.js"></script>

    <script>
        // Quiz Logic
        function checkQuiz() {
            let score = 0;
            const q1 = document.querySelector('input[name="q1"]:checked');
            const q2 = document.querySelector('input[name="q2"]:checked');

            if (q1 && q1.value === 'a') score++;
            if (q2 && q2.value === 'c') score++;

            document.getElementById('quiz-result').innerText = "You scored: " + score + "/2";
        }

        // Python Code Execution using Skulpt
        function builtinRead(x) {
            if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined)
                throw "File not found: '" + x + "'";
            return Sk.builtinFiles["files"][x];
        }

        function runPythonCode() {
            let code = document.getElementById('code-input').value;
            let outputElement = document.getElementById('output');
            outputElement.innerText = ""; // Clear previous output

            Sk.pre = "output";
            Sk.configure({
                output: outf,
                read: builtinRead,
                execLimit: 10000, // 10 seconds execution limit to prevent long-running code
            });

            function outf(text) {
                outputElement.innerText += text; // Append the output to the div
            }

            Sk.misceval.asyncToPromise(function() {
                return Sk.importMainWithBody("<stdin>", false, code, true);
            }).then(function(mod) {
                outputElement.innerText += "\nProgram finished.";
            }).catch(function(err) {
                outputElement.innerText = "Error: " + err.toString() + "\n";
            });
        }
    </script>

</body>
</html>
